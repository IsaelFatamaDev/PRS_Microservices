# application-dev.yml - Configuración para Desarrollo
server:
  port: ${SERVER_PORT}
  forward-headers-strategy: framework
  compression:
    enabled: false  # Deshabilitado en dev para facilitar debugging
  http2:
    enabled: false  # Deshabilitado en dev

spring:
  application:
    name: vg-ms-water-quality
  main:
    lazy-initialization: false
    banner-mode: console  # Mostrar banner en dev
  jmx:
    enabled: true  # Habilitado para monitoreo local
  aop:
    auto: false
  data:
    mongodb:
      uri: ${MONGODB_URI}
  web:
    resources:
      cache:
        period: 0  # Sin cache en desarrollo
  codec:
    max-in-memory-size: 1MB  # Mayor tamaño para debugging
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${JWT_ISSUER_URI}
          jwk-set-uri: ${JWT_JWK_SET_URI}

# Swagger habilitado en desarrollo
springdoc:
  api-docs:
    path: /v3/api-docs
    enabled: true
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
    tags-sorter: alpha
    operations-sorter: alpha

# Logging detallado para desarrollo
logging:
  level:
    root: INFO
    pe.edu.vallegrande: DEBUG
    org.springframework.web: DEBUG
    org.springframework.security: DEBUG
    org.springframework.data.mongodb: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"

info:
  app:
    name: Water Quality Microservice
    description: Microservicio para gestión de calidad de agua - Sistema JASS Digital (DEV)
    version: 1.0.0
    environment: development

user-service:
  base-url: ${USER_SERVICE_URL}
  timeout: 5000  # Mayor timeout para debugging

organization-service:
  base-url: ${ORGANIZATION_SERVICE_URL}
  token: ${ORGANIZATION_SERVICE_TOKEN}
  timeout: 5000  # Mayor timeout para debugging

# Actuator endpoints habilitados para desarrollo
management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
