spring:
  application:
    name: ${NOMBRE_MICROSERVICIO:vg-ms-distribution}
  
  # === MONGODB DESARROLLO ===
  data:
    mongodb:
      uri: mongodb+srv://${MONGO_USERNAME}:${MONGO_PASSWORD}@${MONGO_HOST}/${MONGO_DATABASE}?retryWrites=true&w=majority
  
  # === SECURITY ===
  security:
    oauth2:
      resourceserver:
        jwt:
          issuer-uri: ${KEYCLOAK_ISSUER_URI}
          jwk-set-uri: ${KEYCLOAK_JWK_SET_URI}
  
  cloud:
    compatibility-verifier:
      enabled: false

# =============================================================================
# SERVIDOR DESARROLLO
# =============================================================================
server:
  port: 8086
  servlet:
    context-path: /jass/ms-distribution
  forward-headers-strategy: framework

# =============================================================================
# CONFIGURACIÓN JWE DESARROLLO
# =============================================================================
jwe:
  internal:
    secret: ${JWE_INTERNAL_SECRET}
    expiration: ${JWE_INTERNAL_EXPIRATION}
    issuer: ${JWE_INTERNAL_ISSUER}
    audience: ${JWE_INTERNAL_AUDIENCE}

# =============================================================================
# SERVICIOS EXTERNOS DESARROLLO
# =============================================================================
microservices:
  organization:
    name: ms-organizaciones
    url: ${ORGANIZATION_SERVICE_URL}
    timeout: 5000

organization-service:
  base-url: ${ORGANIZATION_SERVICE_BASE_URL}
  token: ${ORGANIZATION_SERVICE_TOKEN}

# =============================================================================
# ACTUATOR DESARROLLO
# =============================================================================
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
      base-path: /actuator
  endpoint:
    health:
      show-details: always
      show-components: always

# =============================================================================
# LOGGING DESARROLLO (MÁS DETALLADO)
# =============================================================================
logging:
  level:
    root: INFO
    pe.edu.vallegrande: DEBUG
    org.springframework: INFO
    org.springframework.web: DEBUG
    org.springframework.data.mongodb: DEBUG
    org.mongodb.driver: INFO
    reactor.netty: INFO
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"

